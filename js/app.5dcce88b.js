(function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],v=0,p=[];v<i.length;v++)a=i[v],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"28ab":function(e,t,n){"use strict";n("78c4")},"2fb4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},s=[],a=(n("2fb4"),{name:"App",components:{}}),i=a,c=n("2877"),l=Object(c["a"])(i,o,s,!1,null,null,null),u=l.exports,v=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cube-timer-app-container"},[n("solves-table",{attrs:{solves:e.solvesForDisplay,bestSolve:e.bestSolve},on:{resetSolves:e.resetSolves}}),n("div",{staticClass:"main-timer-screen-container"},[n("scramble",{attrs:{scramble:e.scrambleForDisplay},on:{setScramble:e.loadScramble}}),n("timer",{attrs:{bestSolve:e.bestSolve},on:{onAddSolve:e.onAddSolve}})],1),n("notification",[n("h2",[e._v(e._s(e.notification))])]),n("router-view")],1)},d=[],m=(n("4de4"),n("d81d"),n("13d5"),n("fb6a"),n("5530")),f=n("2909"),h=(n("96cf"),n("1da1")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scrambles-container"},[e.scramble?n("h2",[e._v(e._s(e.scramble))]):e._e(),e.scramble?e._e():n("h2",[e._v("Generating a fresh scramble...")]),n("i",{staticClass:"fa fa-refresh rescramble-btn",class:{spin:!e.scramble},on:{click:e.onSetScramble}})])},b=[],w={props:{scramble:String},data:function(){return{}},mounted:function(){},methods:{onSetScramble:function(){this.$emit("setScramble")}}},S=w,y=Object(c["a"])(S,g,b,!1,null,null,null),x=y.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-container"},[n("div",{staticClass:"timer-inner",class:e.timerColorClasses},[e.time.minutes?n("span",[e._v(e._s(e.time.minutes)+":")]):e._e(),n("span",[e._v(e._s(e.time.seconds)+".")]),n("span",{staticClass:"milliseconds"},[e._v(e._s(e.millisecondsForDisplay))])]),e.isWin?n("div",{staticClass:"finish-solve-circle",class:{win:e.isWin}}):e._e()])},R=[],k=(n("a9e3"),{props:{onAddSolve:Function,bestSolve:Number},created:function(){window.addEventListener("keydown",this.startInspection),window.addEventListener("keydown",this.stopTimer),window.addEventListener("keyup",this.runTimer)},unmounted:function(){window.removeEventListener("keydown",this.startInspection),window.removeEventListener("keydown",this.stopTimer),window.removeEventListener("keyup",this.runTimer),clearInterval(this.inspection.intervalId),clearInterval(this.intervalId)},data:function(){return{initialTime:null,solveResult:null,time:{milliseconds:0,seconds:0,minutes:0},inspection:{isRed:!1,isGreen:!1,intervalId:null,time:null},isRunning:!1,intervalId:null,isWin:!1}},methods:{runTimer:function(e){"Space"===e.code&&!this.isRunning&&this.inspection.isGreen&&(this.stopInspection(),this.startTimer())},startTimer:function(){var e=this;this.initialTime=Date.now(),this.isRunning=!0,this.intervalId=setInterval((function(){var t=Date.now()-e.initialTime,n=Math.floor(t%1e3)<100?"0"+Math.floor(t%1e3):Math.floor(t%1e3),r=Math.floor(t%6e4/1e3),o=Math.floor(t%36e5/6e4);e.time.milliseconds=n,e.time.seconds=r,e.time.minutes=o,e.solveResult=t}),10)},stopTimer:function(e){"Space"===e.code&&this.isRunning&&(this.isRunning=!1,clearInterval(this.intervalId),this.solveResult<this.bestSolve&&(this.$store.dispatch({type:"showNotification",txt:"Congratulations! It's a new record!"}),this.toggleWinAnimation()),this.$emit("onAddSolve",this.solveResult))},startInspection:function(e){var t=this;"Space"!==e.code||this.inspection.intervalId||this.isRunning||(this.stopInspection(),this.inspection.time=Date.now(),this.inspection.isRed=!0,this.inspection.intervalId=setInterval((function(){var e=Date.now()-t.inspection.time;e>500&&(t.inspection.isRed=!1,t.inspection.isGreen=!0)}),100))},stopInspection:function(){clearInterval(this.inspection.intervalId),this.inspection.intervalId=null,this.inspection.isRed=!1,this.inspection.isGreen=!1},toggleWinAnimation:function(){var e=this;this.isWin=!0,setTimeout((function(){e.isWin=!1}),800)}},computed:{parsedMilliSeconds:function(){return Math.floor(this.time.milliseconds/100)},millisecondsForDisplay:function(){return this.isRunning?this.parsedMilliSeconds:this.time.milliseconds},timerColorClasses:function(){return{"red-timer":this.inspection.isRed,"green-timer":this.inspection.isGreen}}}}),O=k,C=Object(c["a"])(O,_,R,!1,null,null,null),I=C.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solves-table-container"},[n("div",{staticClass:"inner-wrapper"},[n("div",{staticClass:"solves-table-header"},[n("div",[n("span",[e._v("Solves: "+e._s(e.solves.length))]),n("span",[e._v("Best: "+e._s(e.getFormattedTime(e.bestSolve)))]),n("span",{staticClass:"reset-btn",on:{click:e.onResetSolves}},[e._v("Reset")])])]),e.solves.length?n("div",{staticClass:"solves-table-titles"},[n("span"),n("span",[e._v("Time")]),n("span",[e._v("Ao 5")]),n("span",[e._v("Ao 12")])]):e._e(),n("div",{staticClass:"solves-table-results"},[e.solves.length?n("div",e._l(e.solves,(function(e,t){return n("solves-table-row",{key:e._id,attrs:{solve:e,idx:t}})})),1):e._e(),e.solves.length?e._e():n("h2",{staticClass:"empty-solves-title"},[e._v(' Hit the "Space" key and start solving! ')])])])])},T=[],F=(n("99af"),{makeId:M,getRandomIntBetween:D,getRandomInt:$,getFormattedTime:N});function M(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function D(e,t){return Math.floor(Math.random()*(t-e)+e)}function $(e){return Math.floor(Math.random()*Math.floor(e))}function N(e){var t=Math.floor(e%1e3)<100?"0"+Math.floor(e%1e3):Math.floor(e%1e3),n=Math.floor(e%6e4/1e3),r=Math.floor(e%36e5/6e4);return e?e<1e3?"0."+t:e<6e4?"".concat(n,".").concat(t):"".concat(r,":").concat(n,".").concat(t):"---"}var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{attrs:{to:"solve/"+e.solve._id}},[n("div",{staticClass:"solves-table-row",on:{click:e.onSelectSolve}},[n("span",[e._v(e._s(e.idx+1))]),n("span",[e._v(e._s(e.penalty))]),e.solve.avgOfFive?n("span",[e._v(" "+e._s(e.getFormattedTime(e.solve.avgOfFive)))]):n("span",{staticClass:"blank-avg"},[e._v("---")]),e.solve.avgOfTwelve?n("span",[e._v(" "+e._s(e.getFormattedTime(e.solve.avgOfTwelve)))]):n("span",{staticClass:"blank-avg"},[e._v("---")])])])},P=[],B={props:{solve:Object,idx:Number},methods:{getFormattedTime:function(e){return F.getFormattedTime(e)},onSelectSolve:function(){this.$emit("selectSolve",this.solve._id)}},computed:{penalty:function(){switch(this.solve.penalty){case"good":return this.getFormattedTime(this.solve.solveResult);case"plusTwo":return this.getFormattedTime(this.solve.solveResult)+"+2";case"dnf":return"DNF";default:break}}}},E=B,L=Object(c["a"])(E,A,P,!1,null,null,null),J=L.exports,G={props:{solves:Array,resetSolves:Function,bestSolve:Number},data:function(){return{}},methods:{onResetSolves:function(){this.$emit("resetSolves")},getFormattedTime:function(e){return F.getFormattedTime(e)}},computed:{},components:{SolvesTableRow:J}},W=G,U=Object(c["a"])(W,j,T,!1,null,null,null),q=U.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.notification,expression:"notification"}],staticClass:"notification-container"},[e._t("default"),n("span",{on:{click:e.close}},[e._v("Close")])],2)},Y=[],z={methods:{close:function(){this.$store.dispatch({type:"hideNotification"})}},computed:{notification:function(){return this.$store.getters.notification}}},K=z,Q=(n("28ab"),Object(c["a"])(K,H,Y,!1,null,null,null)),V=Q.exports,X={data:function(){return{}},created:function(){this.loadSolves(),this.loadScramble()},methods:{loadSolves:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadSolves"});case 2:case"end":return t.stop()}}),t)})))()},loadScramble:function(){this.$store.commit({type:"setScramble"})},resetSolves:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=confirm("Are you sure?"),!n){t.next=4;break}return t.next=4,e.$store.dispatch({type:"resetSolves"});case 4:case"end":return t.stop()}}),t)})))()},onAddSolve:function(e){this.$store.dispatch({type:"addSolve",solveResult:e}),this.loadScramble()},getAverage:function(e){var t=e.map((function(e){return e.solveResult})),n=Math.min.apply(Math,Object(f["a"])(t)),r=Math.max.apply(Math,Object(f["a"])(t)),o=t.filter((function(e){return e!==n&&e!==r})),s=o.reduce((function(e,t){return e+t}),0),a=s/(e.length-2);return Math.floor(a)}},components:{Scramble:x,Timer:I,SolvesTable:q,Notification:V},computed:{solvesForDisplay:function(){var e=this,t=this.$store.getters.solvesForDisplay,n=t.map((function(n,r){var o=r>=4?e.getAverage(t.slice(r-4,r+1)):null,s=r>=11?e.getAverage(t.slice(r-11,r+1)):null;return Object(m["a"])(Object(m["a"])({},n),{},{avgOfFive:o,avgOfTwelve:s})}));return n},scrambleForDisplay:function(){return this.$store.getters.scramble},bestSolve:function(){var e=this.$store.getters.solvesForDisplay;if(!e.length)return 0;var t=e.map((function(e){return e.solveResult}));return Math.min.apply(Math,Object(f["a"])(t))},notification:function(){return this.$store.getters.notification}}},Z=X,ee=Object(c["a"])(Z,p,d,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.solve?n("div",{staticClass:"solve-setails-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.onCloseSolve()}}},[n("div",{staticClass:"inner"},[n("div",[n("i",{staticClass:"fa fa-arrow-left close-details",on:{click:function(t){return e.onCloseSolve()}}})]),n("div",{staticClass:"details-content"},[n("div",[n("h3",{staticClass:"solve-number"},[e._v("Solve No."+e._s(e.idx+1))]),n("div",{staticClass:"divider"})]),n("h3",[e._v(" Time: "),n("span",[e._v(e._s(e.penalty))])]),n("h3",[e._v(" Scramble: "),n("span",[e._v(e._s(e.solve.scramble))])]),n("div",{staticClass:"penalties"},[n("h3",[e._v("Penalty:")]),n("input",{attrs:{value:"good",type:"radio",name:"penalties",id:"good"},domProps:{checked:"good"===e.solve.penalty},on:{click:e.updatePenalty}}),n("label",{attrs:{for:"good"}},[e._v("Good")]),n("input",{attrs:{value:"plusTwo",type:"radio",name:"penalties",id:"plusTwo"},domProps:{checked:"plusTwo"===e.solve.penalty},on:{click:e.updatePenalty}}),n("label",{attrs:{for:"plusTwo"}},[e._v("+2")]),n("input",{attrs:{value:"dnf",type:"radio",name:"penalties",id:"dnf"},domProps:{checked:"dnf"===e.solve.penalty},on:{click:e.updatePenalty}}),n("label",{attrs:{for:"dnf"}},[e._v("DNF")])]),n("comments",{on:{addComment:e.addComment}},[n("ul",e._l(e.solve.comments,(function(t){return n("li",{key:t.id},[n("h4",{directives:[{name:"formatDate",rawName:"v-formatDate"}]},[e._v(e._s(t.createdAt))]),n("h4",[e._v(e._s(t.txt))])])})),0)]),n("button",{staticClass:"delete",on:{click:e.onDeleteSolve}},[e._v("Delete solve")])],1)])]):e._e()},re=[],oe=(n("c740"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comments-container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.onAddComment(t)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],attrs:{placeholder:"Add a comment...",name:"",id:"",cols:"30",rows:"5"},domProps:{value:e.txt},on:{input:function(t){t.target.composing||(e.txt=t.target.value)}}}),n("button",[e._v("Submit")])]),n("div",{staticClass:"comments-box"},[e._t("default")],2)])}),se=[],ae={props:{addComment:Function},data:function(){return{txt:""}},methods:{onAddComment:function(){this.$emit("addComment",this.txt),this.txt=""}}},ie=ae,ce=Object(c["a"])(ie,oe,se,!1,null,null,null),le=ce.exports,ue={data:function(){return{solve:null,idx:null}},created:function(){this.loadSolve()},methods:{loadSolve:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.solveId,t.next=3,e.$store.dispatch({type:"getSolveById",solveId:n});case 3:e.solve=e.$store.getters.selectedSolve,e.idx=e.$store.getters.solvesForDisplay.findIndex((function(e){return e._id===n}));case 5:case"end":return t.stop()}}),t)})))()},onCloseSolve:function(){this.$router.push("/")},getFormattedTime:function(e){return F.getFormattedTime(e)},onDeleteSolve:function(){var e=confirm("Are you sure?");e&&(this.$store.dispatch({type:"removeSolve",solveId:this.solve._id}),this.onCloseSolve())},updatePenalty:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.target.value,n.next=3,t.$store.dispatch({type:"updatePenalty",penalty:r});case 3:t.loadSolve();case 4:case"end":return n.stop()}}),n)})))()},addComment:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"addComment",comment:e,solveId:t.solve._id});case 2:t.loadSolve();case 3:case"end":return n.stop()}}),n)})))()}},computed:{penalty:function(){switch(this.solve.penalty){case"good":return this.getFormattedTime(this.solve.solveResult);case"plusTwo":return this.getFormattedTime(this.solve.solveResult)+"+2";case"dnf":return"DNF";default:break}}},components:{Comments:le}},ve=ue,pe=Object(c["a"])(ve,ne,re,!1,null,null,null),de=pe.exports;r["a"].use(v["a"]);var me=[{path:"/",name:"CubeTimerApp",component:te,children:[{path:"/solve/:solveId",name:"SolveDetails",component:de}]}],fe=new v["a"]({routes:me}),he=fe,ge=n("2f62"),be=(n("7db0"),n("a434"),n("d3b7"),{query:we,get:Se,post:xe,put:Re,remove:Oe,reset:Ie});function we(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function Se(e,t){return ye.apply(this,arguments)}function ye(){return ye=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(t);case 2:return r=e.sent,e.abrupt("return",r.find((function(e){return e._id===n})));case 4:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function xe(e,t){return _e.apply(this,arguments)}function _e(){return _e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n._id=Fe(),e.next=3,we(t);case 3:return r=e.sent,r.push(n),Te(t,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Re(e,t){return ke.apply(this,arguments)}function ke(){return ke=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(t);case 2:return r=e.sent,o=r.findIndex((function(e){return e._id===n._id})),r.splice(o,1,n),Te(t,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Oe(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,we(t);case 2:r=e.sent,o=r.findIndex((function(e){return e._id===n})),r.splice(o,1),Te(t,r);case 6:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function Ie(e){return je.apply(this,arguments)}function je(){return je=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Te(t,[]);case 1:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Te(e,t){localStorage.setItem(e,JSON.stringify(t))}function Fe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Me="solves_DB",De={query:$e,getSolveById:Ae,removeSolve:Ue,addSolve:Be,updateSolve:Le,addComment:Ge,resetSolves:He};function $e(){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.query(Me);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldn't find solves",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ne.apply(this,arguments)}function Ae(e){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get(Me,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldn't find solve",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pe.apply(this,arguments)}function Be(e){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.post(Me,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldn't add solve",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ee.apply(this,arguments)}function Le(e){return Je.apply(this,arguments)}function Je(){return Je=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.put(Me,t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldn't update solve",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Je.apply(this,arguments)}function Ge(e,t){return We.apply(this,arguments)}function We(){return We=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(n);case 3:return r=e.sent,o={txt:t,createdAt:Date.now(),id:F.makeId()},r.comments=[].concat(Object(f["a"])(r.comments),[o]),e.next=8,be.put(Me,r);case 8:return e.abrupt("return",t);case 11:e.prev=11,e.t0=e["catch"](0),console.log("Couldn't add comment",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),We.apply(this,arguments)}function Ue(e){return qe.apply(this,arguments)}function qe(){return qe=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.remove(Me,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("Couldn't remove solve",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),qe.apply(this,arguments)}function He(){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.reset(Me);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("Couldn't reset solves",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),Ye.apply(this,arguments)}var ze={state:{solves:[],selectedSolve:null},getters:{solvesForDisplay:function(e){return e.solves},selectedSolve:function(e){return e.selectedSolve}},mutations:{setSolves:function(e,t){var n=t.solves;e.solves=n},addSolve:function(e,t){var n=t.newSolve;e.solves=[].concat(Object(f["a"])(e.solves),[n])},updateSolve:function(e,t){var n=t.solveToUpdate;e.solves=e.solves.map((function(e){return e._id===n._id?n:e}))},addComment:function(e,t){var n=t.commentToSave,r=t.solveId;e.solves=e.solves.map((function(e){return e._id===r?(e.comments.push(n),e):e}))},removeSolve:function(e,t){var n=t.solveId;e.solves=e.solves.filter((function(e){return e._id!==n}))},resetSolves:function(e){e.solves=[]},setSelectedSolve:function(e,t){var n=t.solve;e.selectedSolve=JSON.parse(JSON.stringify(n))}},actions:{loadSolves:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,De.query();case 2:n=t.sent,e.commit({type:"setSolves",solves:n});case 4:case"end":return t.stop()}}),t)})))()},resetSolves:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,De.resetSolves();case 2:e.dispatch({type:"showNotification",txt:"Reset successful"}),e.commit({type:"resetSolves"});case 4:case"end":return t.stop()}}),t)})))()},addSolve:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.solveResult,o={createdAt:Date.now(),penalty:"good",comments:[],solveResult:r,scramble:e.getters.scramble},n.next=4,De.addSolve(o);case 4:s=n.sent,e.commit({type:"addSolve",newSolve:s});case 6:case"end":return n.stop()}}),n)})))()},updateSolve:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.updatedSolve,n.next=3,De.updateSolve(r);case 3:o=n.sent,e.dispatch({type:"showNotification",txt:"Solve updated successfully"}),e.commit({type:"updateSolve",solveToUpdate:o});case 6:case"end":return n.stop()}}),n)})))()},addComment:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.comment,o=t.solveId,n.next=3,De.addComment(r,o);case 3:s=n.sent,e.commit({type:"addComment",commentToSave:s,solveId:o});case 5:case"end":return n.stop()}}),n)})))()},updatePenalty:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.penalty,o=JSON.parse(JSON.stringify(e.getters.selectedSolve)),o.penalty=r,n.next=5,e.dispatch({type:"updateSolve",updatedSolve:o});case 5:case"end":return n.stop()}}),n)})))()},removeSolve:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.solveId,n.next=3,De.removeSolve(r);case 3:e.dispatch({type:"showNotification",txt:"Removed solve successfully"}),e.commit({type:"removeSolve",solveId:r});case 5:case"end":return n.stop()}}),n)})))()},getSolveById:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.solveId,n.next=3,De.getSolveById(r);case 3:o=n.sent,e.commit({type:"setSelectedSolve",solve:o});case 5:case"end":return n.stop()}}),n)})))()}}},Ke=(n("a15b"),{getNewScramble:Qe});function Qe(){var e,t=["F","F2","F'","R","R2","R'","U","U2","U'","B","B2","B'","L","L2","L'","D","D2","D'"],n=[0,1,2,3,4,5],r=[],o=[],s=!0;while(s){r=[];for(var a=0;a<20;a++)r.push(n[F.getRandomInt(6)]);for(a=0;a<19;a++){if(r[a]==r[a+1]){s=!0;break}s=!1}}for(a=0;a<20;a++)switch(r[a]){case 0:e=t[F.getRandomInt(3)],o.push(e);break;case 1:e=t[F.getRandomIntBetween(3,6)],o.push(e);break;case 2:e=t[F.getRandomIntBetween(6,9)],o.push(e);break;case 3:e=t[F.getRandomIntBetween(9,12)],o.push(e);break;case 4:e=t[F.getRandomIntBetween(12,15)],o.push(e);break;case 5:e=t[F.getRandomIntBetween(15,18)],o.push(e);break}return o.join(" ")}var Ve={state:{scramble:null},getters:{scramble:function(e){return e.scramble}},mutations:{setScramble:function(e,t){e.scramble=Ke.getNewScramble()}},actions:{loadScramble:function(e){e.commit({type:"setScramble",scramble:scramble})}}};r["a"].use(ge["a"]);var Xe=new ge["a"].Store({strict:!0,state:{notification:"",timeoutId:null},getters:{notification:function(e){return e.notification}},mutations:{setNotification:function(e,t){e.notification=t.txt}},actions:{showNotification:function(e,t){var n=e.commit,r=e.dispatch,o=t.txt;n({type:"setNotification",txt:o}),setTimeout((function(){r({type:"hideNotification"})}),4e3)},hideNotification:function(e){var t=e.commit;t({type:"setNotification",txt:""})}},modules:{solveModule:ze,scrambleModule:Ve}});r["a"].config.productionTip=!1,r["a"].directive("formatDate",{bind:function(e,t){var n=+e.innerText,r=new Date(n),o=r.getMonth()+1+"/"+r.getDate()+"/"+r.getFullYear();e.innerText=o}}),new r["a"]({router:he,store:Xe,render:function(e){return e(u)}}).$mount("#app")},"78c4":function(e,t,n){}});
//# sourceMappingURL=app.5dcce88b.js.map